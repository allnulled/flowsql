<%

%>

(function() {

    const FlowsqlBrowser = <%- includeFile(["inc", "FlowsqlBrowser", "constructor.js"], true) %>

    FlowsqlBrowser.create = <%- includeFile(["inc", "FlowsqlNodejs", "static", "create.js"], false) %>
    FlowsqlBrowser.assertion = <%- includeFile(["inc", "FlowsqlNodejs", "static", "assertion.js"], false) %>
    FlowsqlBrowser.AssertionError = <%- includeFile(["inc", "FlowsqlNodejs", "static", "AssertionError.js"], false) %>
    FlowsqlBrowser.defaultOptions = <%- includeFile(["inc", "FlowsqlBrowser", "static", "defaultOptions.js"], true) %>
    FlowsqlBrowser.defaultDatabaseOptions = <%- includeFile(["inc", "FlowsqlNodejs", "static", "defaultDatabaseOptions.js"], false) %>
    FlowsqlBrowser.dependencies = <%- includeFile(["inc", "FlowsqlBrowser", "static", "dependencies.js"], true) %>
    FlowsqlBrowser.escapeId = <%- includeFile(["inc", "FlowsqlNodejs", "static", "escapeId.js"], false) %>
    FlowsqlBrowser.escapeValue = <%- includeFile(["inc", "FlowsqlNodejs", "static", "escapeValue.js"], false) %>
    FlowsqlBrowser.getSqlType = <%- includeFile(["inc", "FlowsqlNodejs", "static", "getSqlType.js"], false) %>
    FlowsqlBrowser.knownTypes = <%- includeFile(["inc", "FlowsqlNodejs", "static", "knownTypes.js"], false) %>
    FlowsqlBrowser.knownOperators = <%- includeFile(["inc", "FlowsqlNodejs", "static", "knownOperators.js"], false) %>
    FlowsqlBrowser.copyObject = <%- includeFile(["inc", "FlowsqlNodejs", "static", "copyObject.js"], false) %>
    FlowsqlBrowser.arrayContainsAnyOf = <%- includeFile(["inc", "FlowsqlNodejs", "static", "arrayContainsAnyOf.js"], false) %>

    FlowsqlBrowser.prototype._ensureBasicMetadata = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_ensureBasicMetadata.js"], false) %>
    FlowsqlBrowser.prototype._loadSchema = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_loadSchema.js"], false) %>
    FlowsqlBrowser.prototype._persistSchema = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_persistSchema.js"], false) %>
    FlowsqlBrowser.prototype._compactResults = <%- includeFile(["inc", "FlowsqlBrowser", "prototype", "_compactResults.js"], true) %>
    FlowsqlBrowser.prototype._createRelationalTable = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_createRelationalTable.js"], false) %>
    FlowsqlBrowser.prototype._validateFilters = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_validateFilters.js"], false) %>
    FlowsqlBrowser.prototype._sqlForColumn = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_sqlForColumn.js"], false) %>
    FlowsqlBrowser.prototype._sqlForWhere = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_sqlForWhere.js"], false) %>
    FlowsqlBrowser.prototype._sqlForInsertInto = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_sqlForInsertInto.js"], false) %>
    FlowsqlBrowser.prototype._sqlForInsertValues = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_sqlForInsertValues.js"], false) %>
    FlowsqlBrowser.prototype._sqlForUpdateSet = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_sqlForUpdateSet.js"], false) %>
    FlowsqlBrowser.prototype._validateInstance = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_validateInstance.js"], false) %>
    FlowsqlBrowser.prototype._selectMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_selectMany.js"], false) %>
    FlowsqlBrowser.prototype._insertMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_insertMany.js"], false) %>
    FlowsqlBrowser.prototype._updateMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_updateMany.js"], false) %>
    FlowsqlBrowser.prototype._deleteMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "_deleteMany.js"], false) %>

    FlowsqlBrowser.prototype.assertion = FlowsqlBrowser.assertion.bind(FlowsqlBrowser);

    FlowsqlBrowser.prototype.fetchSql = <%- includeFile(["inc", "FlowsqlBrowser", "prototype", "fetchSql.js"], true) %>
    FlowsqlBrowser.prototype.insertSql = <%- includeFile(["inc", "FlowsqlBrowser", "prototype", "insertSql.js"], true) %>
    FlowsqlBrowser.prototype.runSql = <%- includeFile(["inc", "FlowsqlBrowser", "prototype", "runSql.js"], true) %>
    FlowsqlBrowser.prototype.connect = <%- includeFile(["inc", "FlowsqlBrowser", "prototype", "connect.js"], true) %>
    FlowsqlBrowser.prototype.trace = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "trace.js"], false) %>

    FlowsqlBrowser.prototype.extractSqlSchema = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "extractSqlSchema.js"], false) %>
    FlowsqlBrowser.prototype.validateSchema = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "validateSchema.js"], false) %>
    FlowsqlBrowser.prototype.addTable = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "addTable.js"], false) %>
    FlowsqlBrowser.prototype.addColumn = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "addColumn.js"], false) %>
    FlowsqlBrowser.prototype.renameTable = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "renameTable.js"], false) %>
    FlowsqlBrowser.prototype.renameColumn = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "renameColumn.js"], false) %>
    FlowsqlBrowser.prototype.dropTable = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "dropTable.js"], false) %>
    FlowsqlBrowser.prototype.dropColumn = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "dropColumn.js"], false) %>

    FlowsqlBrowser.prototype.insertOne = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "insertOne.js"], false) %>
    FlowsqlBrowser.prototype.insertMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "insertMany.js"], false) %>
    FlowsqlBrowser.prototype.selectOne = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "selectOne.js"], false) %>
    FlowsqlBrowser.prototype.selectMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "selectMany.js"], false) %>
    FlowsqlBrowser.prototype.selectByLabel = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "selectByLabel.js"], false) %>
    FlowsqlBrowser.prototype.selectByTags = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "selectByTags.js"], false) %>
    FlowsqlBrowser.prototype.updateOne = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "updateOne.js"], false) %>
    FlowsqlBrowser.prototype.updateMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "updateMany.js"], false) %>
    FlowsqlBrowser.prototype.updateByLabel = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "updateByLabel.js"], false) %>
    FlowsqlBrowser.prototype.deleteOne = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "deleteOne.js"], false) %>
    FlowsqlBrowser.prototype.deleteMany = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "deleteMany.js"], false) %>
    FlowsqlBrowser.prototype.deleteByLabel = <%- includeFile(["inc", "FlowsqlNodejs", "prototype", "deleteByLabel.js"], false) %>
    
    FlowsqlBrowser.prototype.dehydrate = <%- includeFile(["inc", "FlowsqlBrowser", "prototype", "dehydrate.js"], true) %>
    FlowsqlBrowser.prototype.hydrate = <%- includeFile(["inc", "FlowsqlBrowser", "prototype", "hydrate.js"], true) %>
    
    <%- include(path.resolve(__dirname, "flowsql-dependencies.tmpl.ejs"), {
        fromEnvironment: "browser"
    }) %>

    window.FlowsqlBrowser = FlowsqlBrowser;

})()