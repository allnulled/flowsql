<% 

const currentGlobal = fromEnvironment === "browser" ? "FlowsqlBrowser" : "Flowsql";
const isInNodejs = fromEnvironment === "node.js";

%>
    Include_data_proxy_api: {
        <%-currentGlobal%>.prototype.createDataProxy = <%- includeFile(["inc", "Flowsql", "prototype", "createDataProxy.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy = <%- includeFile(["inc", "FlowsqlDataProxy", "constructor.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.Flowsql = <%-currentGlobal%>;
        
        <%-currentGlobal%>.DataProxy.assertion = <%-currentGlobal%>.assertion.bind(<%-currentGlobal%>);
        <%-currentGlobal%>.DataProxy.prototype.assertion = <%-currentGlobal%>.assertion.bind(<%-currentGlobal%>);
        <%-currentGlobal%>.DataProxy.prototype.mapByEval = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "mapByEval.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.filterByEval = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "filterByEval.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.reduceByEval = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "reduceByEval.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.modifyByEval = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "modifyByEval.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.amplifyByEval = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "amplifyByEval.js"], isInNodejs) %>
        
        <%-currentGlobal%>.DataProxy.prototype.groupByEvals = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "groupByEvals.js"], isInNodejs) %>
        
        <%-currentGlobal%>.DataProxy.prototype.accessProperty = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "accessProperty.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.memorize = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "memorize.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.remember = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "remember.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.deduplicate = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "deduplicate.js"], isInNodejs) %>
        <%-currentGlobal%>.DataProxy.prototype.byMatrix = <%- includeFile(["inc", "FlowsqlDataProxy", "prototype", "byMatrix.js"], isInNodejs) %>
    }

    Include_filesystem_api: {
        <%-currentGlobal%>.prototype.createFileSystem = <%- includeFile(["inc", "Flowsql", "prototype", "createFileSystem.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem = <%- includeFile(["inc", "FlowsqlFileSystem", "constructor.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.Flowsql = <%-currentGlobal%>;
        
        <%-currentGlobal%>.FileSystem.assertion = <%-currentGlobal%>.assertion.bind(<%-currentGlobal%>);
        <%-currentGlobal%>.FileSystem.prototype.assertion = <%-currentGlobal%>.assertion.bind(<%-currentGlobal%>);
        <%-currentGlobal%>.FileSystem.prototype._decomposePath = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "_decomposePath.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.readFile = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "readFile.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.readdir = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "readdir.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.writeFile = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "writeFile.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.mkdir = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "mkdir.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.unlink = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "unlink.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.rm = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "rm.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.copyFile = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "copyFile.js"], isInNodejs) %>
        <%-currentGlobal%>.FileSystem.prototype.lstat = <%- includeFile(["inc", "FlowsqlFileSystem", "prototype", "lstat.js"], isInNodejs) %>
        
    }